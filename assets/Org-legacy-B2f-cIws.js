System.register(["./index-legacy-CTYkKjHs.js","./logo-family-warm-legacy-Bvck0VHf.js","./_plugin-vue_export-helper-legacy-BVIICed7.js"],function(a,e){"use strict";var t,l,r,i,n,d,o,s,c,u,v,m,g,p,f,b,h,x,y,w,k,_,V,C;return{setters:[a=>{t=a.aJ,l=a.aK,r=a.aL,i=a.aM,n=a.aN,d=a.ap,o=a.as,s=a.b,c=a.ar,u=a.at,v=a.d,m=a.au,g=a.ax,p=a.ay,f=a.aw,b=a.aI,h=a.az,x=a.aC,y=a.aD,w=a.av,k=a.aA,_=a.aB},a=>{V=a.l},a=>{C=a._}],execute:function(){var e=document.createElement("style");e.textContent=".org[data-v-728ab7d2]{min-height:calc(var(--vh, 1vh) * 100);background:var(--bg-color)}.main-content[data-v-728ab7d2]{padding:16px}.current[data-v-728ab7d2]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 2px 12px rgba(0,0,0,.05);margin-bottom:16px}.cover[data-v-728ab7d2]{height:80px;background:linear-gradient(135deg,#ffedd5,#fde68a)}.info[data-v-728ab7d2]{display:flex;align-items:center;gap:12px;padding:12px 16px}.name[data-v-728ab7d2]{font-weight:600;color:#8a4b16}.code[data-v-728ab7d2]{font-size:12px;color:#999}.members[data-v-728ab7d2]{padding:0 16px 12px}.members-title[data-v-728ab7d2]{font-size:14px;color:#666;margin-bottom:8px}.members-list[data-v-728ab7d2]{display:flex;gap:8px;flex-wrap:wrap}.member[data-v-728ab7d2]{background:#fff7ed;color:#a16207;padding:4px 8px;border-radius:12px;font-size:12px}.form[data-v-728ab7d2]{display:flex;gap:8px;align-items:center;padding:8px 16px 16px}.tip[data-v-728ab7d2]{text-align:center;color:#999;font-size:12px;margin-top:8px}\n/*$vite$:1*/",document.head.appendChild(e);const j=t("org",{state:()=>({orgs:[],current:null,loading:!1,error:""}),actions:{async init(){this.loading=!0,this.error="";try{this.orgs=await i(),this.current=await n()}catch(a){this.error=a instanceof Error?a.message:String(a)}finally{this.loading=!1}},async create(a,e,t){this.loading=!0,this.error="";try{const l=await r(a,e,t);return this.orgs.push(l),this.current=l,l}catch(l){return this.error=l instanceof Error?l.message:String(l),null}finally{this.loading=!1}},async join(a,e){this.loading=!0,this.error="";try{const t=await l(a,e);return t&&(this.current=t,await this.init()),t}catch(t){return this.error=t instanceof Error?t.message:String(t),null}finally{this.loading=!1}}}}),z={class:"org"},E={class:"main-content"},S={key:0,class:"current"},U={class:"info"},I={class:"name"},L={class:"code"},$={key:0,class:"members"},A={class:"members-list"},B={class:"form"},D={class:"form"};a("default",C(d({__name:"Org",setup(a){const e=p(),t=j(),l=o(()=>t.loading),r=o(()=>t.current),i=s(""),n=s(""),d=s("");async function C(){i.value.trim()&&await t.create(i.value.trim())}async function J(){n.value.trim()&&d.value.trim()&&await t.join(n.value.trim(),d.value.trim())}return c(()=>{t.init()}),(a,t)=>{const o=f("van-nav-bar"),s=f("van-image"),c=f("van-cell"),p=f("van-field"),j=f("van-button"),K=f("van-cell-group");return k(),u("div",z,[v(o,{title:"家庭/组织","left-arrow":"",fixed:"",placeholder:"",onClickLeft:t[0]||(t[0]=a=>g(e).go(-1))}),m("div",E,[r.value?(k(),u("div",S,[t[5]||(t[5]=m("div",{class:"cover"},null,-1)),m("div",U,[v(s,{src:r.value.logoUrl||g(V),width:"48",height:"48",round:""},null,8,["src"]),m("div",null,[m("div",I,h(r.value.name),1),m("div",L,"加入码："+h(r.value.code),1)])]),r.value.members?.length?(k(),u("div",$,[t[4]||(t[4]=m("div",{class:"members-title"},"成员",-1)),m("div",A,[(k(!0),u(x,null,y(r.value.members,a=>(k(),u("div",{key:a.id,class:"member"},h(a.nickname),1))),128))])])):b("",!0)])):b("",!0),v(K,{inset:""},{default:w(()=>[v(c,{title:"创建家庭/组织",label:"输入名称，生成加入码"}),m("div",B,[v(p,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=a=>i.value=a),placeholder:"例如：温馨小家"},null,8,["modelValue"]),v(j,{type:"primary",round:"",block:"",onClick:C,loading:l.value},{default:w(()=>[...t[6]||(t[6]=[_("创建",-1)])]),_:1},8,["loading"])])]),_:1}),v(K,{inset:""},{default:w(()=>[v(c,{title:"加入组织",label:"输入加入码与昵称"}),m("div",D,[v(p,{modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=a=>n.value=a),placeholder:"加入码"},null,8,["modelValue"]),v(p,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=a=>d.value=a),placeholder:"昵称"},null,8,["modelValue"]),v(j,{type:"success",round:"",block:"",onClick:J,loading:l.value},{default:w(()=>[...t[7]||(t[7]=[_("加入",-1)])]),_:1},8,["loading"])])]),_:1}),t[8]||(t[8]=m("div",{class:"tip"},"说明：当前为本地模拟云端，方便先行体验与共享。",-1))])])}}}),[["__scopeId","data-v-728ab7d2"]]))}}});

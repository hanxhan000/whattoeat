System.register(["./index-legacy-BHEs0orw.js","./order-legacy-Uby_B6wc.js","./_plugin-vue_export-helper-legacy-BVIICed7.js"],function(a,e){"use strict";var t,d,n,l,i,o,s,r,c,p,v,b,f,x,u,m,g,h,y,w,k;return{setters:[a=>{t=a.ap,d=a.aq,n=a.as,l=a.aw,i=a.at,o=a.aA,s=a.aH,r=a.au,c=a.az,p=a.d,v=a.aI,b=a.aC,f=a.aD,x=a.av,u=a.aB,m=a.b,g=a.ax,h=a.ay,y=a.aE},a=>{w=a.u},a=>{k=a._}],execute:function(){var e=document.createElement("style");e.textContent=".meal-card[data-v-1b5d1e2b]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 2px 12px rgba(0,0,0,.05);transition:all .2s;border:2px solid transparent}.meal-card[data-v-1b5d1e2b]:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,.1)}.meal-card.has-selection[data-v-1b5d1e2b]{border-color:#1989fa}.card-header[data-v-1b5d1e2b]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid #f0f0f0;background:#fafafa}.header-left[data-v-1b5d1e2b]{flex:1}.meal-title[data-v-1b5d1e2b]{font-size:16px;font-weight:600;color:#333;margin:0 0 4px}.deadline-tag[data-v-1b5d1e2b]{display:flex;align-items:center;gap:4px;font-size:12px;color:#999}.header-right[data-v-1b5d1e2b]{flex-shrink:0}.selection-count[data-v-1b5d1e2b]{font-size:12px;color:#1989fa;background:#e6f2ff;padding:2px 8px;border-radius:12px}.card-content[data-v-1b5d1e2b]{padding:20px 16px;min-height:120px}.empty-state[data-v-1b5d1e2b]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100px;color:#ccc}.empty-text[data-v-1b5d1e2b]{margin-top:8px;font-size:14px}.selection-list[data-v-1b5d1e2b]{display:flex;flex-direction:column;gap:12px}.selected-item[data-v-1b5d1e2b]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#f8f9fa;border-radius:12px}.dish-name[data-v-1b5d1e2b]{font-size:14px;color:#666;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-footer[data-v-1b5d1e2b]{padding:0 16px 16px}[data-v-1b5d1e2b] .van-button{font-size:14px;height:36px}@media(min-width:768px){.meal-card[data-v-1b5d1e2b]{height:100%;display:flex;flex-direction:column}.card-content[data-v-1b5d1e2b]{flex:1;display:flex;align-items:center}.empty-state[data-v-1b5d1e2b]{flex:1}}.plan[data-v-6aa43ab5]{min-height:calc(var(--vh, 1vh) * 100);background:#f5f5f5}.main-content[data-v-6aa43ab5]{padding:16px 16px 24px}.date-navigation[data-v-6aa43ab5]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 2px 12px rgba(0,0,0,.05);margin-bottom:16px}[data-v-6aa43ab5] .date-tabs .van-tabs__wrap{height:auto}[data-v-6aa43ab5] .date-tabs .van-tab{flex:none;padding:0 16px;font-size:14px}.day-content[data-v-6aa43ab5]{padding:20px 16px}.day-header[data-v-6aa43ab5]{display:flex;align-items:center;gap:8px;margin-bottom:20px;padding:12px 16px;background:#e6f2ff;border-radius:12px;color:#1989fa}.day-title[data-v-6aa43ab5]{font-size:16px;font-weight:600}.meals-container[data-v-6aa43ab5]{display:flex;flex-direction:column;gap:16px}.overview-section[data-v-6aa43ab5]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 2px 12px rgba(0,0,0,.05)}.section-header[data-v-6aa43ab5]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid #f0f0f0}.section-title[data-v-6aa43ab5]{font-size:16px;font-weight:600;color:#333}.overview-content[data-v-6aa43ab5]{max-height:300px;overflow-y:auto}.overview-day[data-v-6aa43ab5]{padding:16px;border-bottom:1px solid #f0f0f0}.overview-day[data-v-6aa43ab5]:last-child{border-bottom:none}.overview-day-header[data-v-6aa43ab5]{margin-bottom:12px}.day-label[data-v-6aa43ab5]{font-weight:600;color:#333}.overview-meals[data-v-6aa43ab5]{display:flex;flex-direction:column;gap:8px}.overview-meal[data-v-6aa43ab5]{display:flex;justify-content:space-between;font-size:14px}.meal-label[data-v-6aa43ab5]{color:#999;min-width:40px}.meal-content[data-v-6aa43ab5]{flex:1;text-align:right;color:#666;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.collapsed-overview[data-v-6aa43ab5]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;background:#fff;border-radius:16px;box-shadow:0 2px 12px rgba(0,0,0,.05);color:#1989fa;cursor:pointer}@media(min-width:768px){.main-content[data-v-6aa43ab5]{max-width:1200px;margin:0 auto}.meals-container[data-v-6aa43ab5]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}.overview-content[data-v-6aa43ab5]{max-height:400px}.overview-meals[data-v-6aa43ab5]{flex-direction:row;gap:20px}.overview-meal[data-v-6aa43ab5]{flex:1}}\n/*$vite$:1*/",document.head.appendChild(e);const $={class:"card-header"},_={class:"header-left"},z={class:"meal-title"},D={class:"deadline-tag"},j={class:"header-right"},C={key:0,class:"selection-count"},S={class:"card-content"},M={key:0,class:"empty-state"},I={key:1,class:"selection-list"},L={class:"dish-name"},q={class:"card-footer"},E=k(t({__name:"MealCard",props:{date:{},meal:{}},emits:["select-dish"],setup(a,{emit:e}){const t=a,m=e,g=w(),h=d(),y=n(()=>({breakfast:"早餐",lunch:"午餐",dinner:"晚餐"}[t.meal])),k=n(()=>({breakfast:"07:00",lunch:"11:00",dinner:"17:00"}[t.meal])),E=n(()=>{const a=g.getCounts(t.date,t.meal);return Object.entries(a).filter(([a,e])=>e>0).map(([a,e])=>{const t=h.dishes.find(e=>e.id===a);return t?`${t.name}×${e}`:`未知菜品(${a})×${e}`})});function Y(){m("select-dish",t.date,t.meal)}return(a,e)=>{const t=l("van-icon"),d=l("van-button");return o(),i("div",{class:s(["meal-card",{"has-selection":E.value.length>0}])},[r("div",$,[r("div",_,[r("h3",z,c(y.value),1),r("div",D,[p(t,{name:"clock-o",size:"14"}),r("span",null,"截止："+c(k.value),1)])]),r("div",j,[E.value.length>0?(o(),i("div",C," 已选 "+c(E.value.length)+" 道 ",1)):v("",!0)])]),r("div",S,[0===E.value.length?(o(),i("div",M,[p(t,{name:"food-o",size:"32"}),e[0]||(e[0]=r("p",{class:"empty-text"},"还没有选择菜品",-1))])):(o(),i("div",I,[(o(!0),i(b,null,f(E.value,(a,e)=>(o(),i("div",{key:e,class:"selected-item"},[p(t,{name:"checked",color:"#1989fa"}),r("span",L,c(a),1)]))),128))]))]),r("div",q,[p(d,{type:"primary",size:"small",block:"",round:"",onClick:Y},{default:x(()=>[u(c(E.value.length>0?"修改菜品":"选择菜品"),1)]),_:1})])],2)}}}),[["__scopeId","data-v-1b5d1e2b"]]),Y={class:"plan"},A={class:"main-content"},B={class:"date-navigation"},F={class:"day-content"},H={class:"day-header"},O={class:"day-title"},P={class:"meals-container"},T={key:0,class:"overview-section"},U={class:"section-header"},G={class:"overview-content"},J={class:"overview-day-header"},K={class:"day-label"},N={class:"overview-meals"},Q={class:"meal-label"},R={class:"meal-content"};a("default",k(t({__name:"Plan",setup(a){const e=h();function t(a){return`${a.getFullYear()}-${`${a.getMonth()+1}`.padStart(2,"0")}-${`${a.getDate()}`.padStart(2,"0")}`}const d=m(function(a=7){const e=[],d=new Date;for(let n=0;n<a;n++){const a=new Date(d.getTime()+864e5*n),l=["日","一","二","三","四","五","六"][a.getDay()];e.push({date:t(a),label:`${a.getMonth()+1}/${a.getDate()}`,fullLabel:`${a.getMonth()+1}月${a.getDate()}日 (星期${l})`})}return e}()),n=m(0),s=m(!1);function v(){s.value=!s.value}function u(a){return{breakfast:"早餐",lunch:"午餐",dinner:"晚餐"}[a]||a}function w(a,t){e.push({path:"/order",query:{date:a,meal:t}})}return(a,t)=>{const m=l("van-nav-bar"),h=l("van-icon"),k=l("van-tab"),$=l("van-tabs");return o(),i("div",Y,[p(m,{title:"未来7天食谱","left-arrow":"",fixed:"",placeholder:"",onClickLeft:t[0]||(t[0]=a=>g(e).go(-1))}),r("div",A,[r("div",B,[p($,{active:n.value,"onUpdate:active":t[1]||(t[1]=a=>n.value=a),class:"date-tabs",color:"#1989fa",background:"#f5f5f5",animated:"",swipeable:""},{default:x(()=>[(o(!0),i(b,null,f(d.value,(a,e)=>(o(),y(k,{key:a.date,title:a.label,name:e},{default:x(()=>[r("div",F,[r("div",H,[p(h,{name:"underway-o"}),r("span",O,c(a.fullLabel),1)]),r("div",P,[p(E,{date:a.date,meal:"breakfast",onSelectDish:w},null,8,["date"]),p(E,{date:a.date,meal:"lunch",onSelectDish:w},null,8,["date"]),p(E,{date:a.date,meal:"dinner",onSelectDish:w},null,8,["date"])])])]),_:2},1032,["title","name"]))),128))]),_:1},8,["active"])]),s.value?(o(),i("div",T,[r("div",U,[t[2]||(t[2]=r("h3",{class:"section-title"},"食谱概览",-1)),p(h,{name:"arrow-down",onClick:v})]),r("div",G,[(o(!0),i(b,null,f(d.value,a=>(o(),i("div",{key:a.date,class:"overview-day"},[r("div",J,[r("span",K,c(a.label),1)]),r("div",N,[(o(),i(b,null,f(["breakfast","lunch","dinner"],e=>r("div",{key:e,class:"overview-meal"},[r("span",Q,c(u(e)),1),r("span",R,c((a.date,"未选择")),1)])),64))])]))),128))])])):(o(),i("div",{key:1,class:"collapsed-overview",onClick:v},[p(h,{name:"arrow-up"}),t[3]||(t[3]=r("span",null,"展开食谱概览",-1))]))])])}}}),[["__scopeId","data-v-6aa43ab5"]]))}}});

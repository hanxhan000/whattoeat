System.register(["./index-legacy-CNR_Qhze.js","./order-legacy-Cv0HZm4J.js","./logo-family-warm-legacy-Bvck0VHf.js","./_plugin-vue_export-helper-legacy-BVIICed7.js"],function(a,e){"use strict";var t,i,d,o,n,l,s,r,c,p,u,m,b,x,g,f,v,h,y,k,w;return{setters:[a=>{t=a.ap,i=a.aq,d=a.b,o=a.ar,n=a.as,l=a.at,s=a.d,r=a.au,c=a.av,p=a.aw,u=a.ax,m=a.ay,b=a.az,x=a.aA,g=a.aB,f=a.aC,v=a.aD,h=a.aE},a=>{y=a.u},a=>{k=a.l},a=>{w=a._}],execute:function(){var e=document.createElement("style");e.textContent=".home[data-v-714b2d4d]{min-height:calc(var(--vh, 1vh) * 100);background:linear-gradient(180deg,#fff,#f8f8f8);width:100%;display:block;position:relative}.main-content[data-v-714b2d4d]{padding:16px 16px 72px}.hero-section[data-v-714b2d4d]{background:linear-gradient(135deg,#ffedd5,#fde68a);background-image:url(\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='1200'%20height='400'%20viewBox='0%200%201200%20400'%3e%3cdefs%3e%3clinearGradient%20id='bg'%20x1='0'%20x2='1'%20y1='0'%20y2='1'%3e%3cstop%20offset='0'%20stop-color='%23fff7ed'/%3e%3cstop%20offset='1'%20stop-color='%23fde68a'/%3e%3c/linearGradient%3e%3c/defs%3e%3crect%20width='1200'%20height='400'%20fill='url(%23bg)'/%3e%3cg%20fill='%23fef3c7'%20opacity='0.7'%3e%3ccircle%20cx='150'%20cy='300'%20r='80'/%3e%3ccircle%20cx='450'%20cy='280'%20r='60'/%3e%3ccircle%20cx='800'%20cy='320'%20r='90'/%3e%3ccircle%20cx='1050'%20cy='260'%20r='70'/%3e%3c/g%3e%3c/svg%3e\");background-size:cover;background-position:center;border-radius:16px;padding:32px 20px;margin-bottom:24px;text-align:center;color:#7c2d12;box-shadow:0 4px 12px rgba(0,0,0,.08)}.hero-content[data-v-714b2d4d]{display:flex;flex-direction:column;align-items:center}.logo[data-v-714b2d4d]{width:80px;height:80px;margin-bottom:16px;border-radius:50%;background:#fff;padding:8px}.title[data-v-714b2d4d]{font-size:24px;font-weight:600;margin-bottom:8px;letter-spacing:1px}.subtitle[data-v-714b2d4d]{font-size:14px;margin-bottom:24px;opacity:.9}.start-button[data-v-714b2d4d]{width:100%;max-width:240px}.summary-section[data-v-714b2d4d]{background:#fff;border-radius:16px;padding:20px;margin-bottom:24px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.section-header[data-v-714b2d4d]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-title[data-v-714b2d4d]{font-size:18px;font-weight:600;color:#333}.section-subtitle[data-v-714b2d4d]{font-size:14px;color:#999}.summary-list[data-v-714b2d4d]{margin-bottom:16px}.summary-item[data-v-714b2d4d]{border-radius:12px;margin-bottom:8px}.summary-item[data-v-714b2d4d]:last-child{margin-bottom:0}.summary-total[data-v-714b2d4d]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#f8f9fa;border-radius:12px;font-weight:600}.total-count[data-v-714b2d4d]{color:#1989fa;font-size:16px}.quick-actions[data-v-714b2d4d]{display:flex;justify-content:space-around;background:#fff;border-radius:16px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.action-item[data-v-714b2d4d]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:12px 20px;border-radius:12px;cursor:pointer;transition:all .2s}.action-item[data-v-714b2d4d]:hover{background:#f8f9fa}.action-item span[data-v-714b2d4d]{font-size:14px;color:#666}@media(max-width:360px){.hero-section[data-v-714b2d4d]{padding:24px 16px}.title[data-v-714b2d4d]{font-size:20px}.main-content[data-v-714b2d4d]{padding:12px}}@media(min-width:768px){.main-content[data-v-714b2d4d]{max-width:768px;margin:0 auto}.hero-section[data-v-714b2d4d]{padding:48px 32px}.title[data-v-714b2d4d]{font-size:32px}}\n/*$vite$:1*/",document.head.appendChild(e);const z={class:"home"},_={class:"main-content"},C={class:"hero-section"},j={class:"hero-content"},q=["src"],$={class:"summary-section"},V={class:"section-header"},B={class:"section-subtitle"},D={class:"summary-total"},E={class:"total-count"},G={class:"quick-actions"};a("default",w(t({__name:"Home",setup(a){const e=m(),t=i(),w=y(),O=d(0);o(()=>{});const A=n(()=>t.next7Days()),H=n(()=>A.value[0]?.value||""),I=n(()=>A.value[0]?.label||"今天"),S=["breakfast","lunch","dinner"],U={breakfast:"早餐",lunch:"午餐",dinner:"晚餐"},F=n(()=>S.map(a=>{const e=w.getCounts(H.value,a),i=Object.entries(e).filter(([a,e])=>e>0).map(([a,e])=>{const i=t.dishes.find(e=>e.id===a);return`${i?.name||a}×${e}`}),d=Object.values(e).reduce((a,e)=>a+(e||0),0);return{meal:a,label:U[a],items:i,total:d}})),J=n(()=>F.value.reduce((a,e)=>a+e.total,0));function K(){console.log("跳转到个人页面")}return(a,t)=>{const i=p("van-icon"),d=p("van-nav-bar"),o=p("van-button"),n=p("van-cell"),m=p("van-cell-group"),y=p("van-tabbar-item"),w=p("van-tabbar");return x(),l("div",z,[s(d,{title:"今天吃什么",fixed:"",placeholder:""},{right:c(()=>[s(i,{name:"user-o",size:"20",onClick:K})]),_:1}),r("div",_,[r("div",C,[r("div",j,[r("img",{class:"logo",src:u(k),alt:"家庭logo"},null,8,q),t[7]||(t[7]=r("h1",{class:"title"},"今天吃什么",-1)),t[8]||(t[8]=r("p",{class:"subtitle"},"为您的家庭提供美味食谱推荐",-1)),s(o,{type:"primary",size:"large",round:"",onClick:t[0]||(t[0]=a=>u(e).push("/order")),class:"start-button"},{default:c(()=>[...t[6]||(t[6]=[g(" 开始点餐 ",-1)])]),_:1})])]),r("div",$,[r("div",V,[t[9]||(t[9]=r("h2",{class:"section-title"},"今日汇总",-1)),r("span",B,b(I.value),1)]),s(m,{inset:"",class:"summary-list"},{default:c(()=>[(x(!0),l(f,null,v(F.value,a=>(x(),h(n,{key:a.meal,title:a.label,label:a.items.length?a.items.join("，"):"暂无菜品",value:a.total>0?a.total+" 份":"","is-link":"",onClick:t=>{return i=a.meal,void e.push({path:"/order",query:{date:H.value,meal:i}});var i},class:"summary-item"},null,8,["title","label","value","onClick"]))),128))]),_:1}),r("div",D,[t[10]||(t[10]=r("span",null,"总计",-1)),r("span",E,b(J.value)+" 份",1)])]),r("div",G,[r("div",{class:"action-item",onClick:t[1]||(t[1]=a=>u(e).push("/plan"))},[s(i,{name:"orders-o",size:"24"}),t[11]||(t[11]=r("span",null,"未来食谱",-1))]),r("div",{class:"action-item",onClick:t[2]||(t[2]=a=>u(e).push("/order"))},[s(i,{name:"shopping-cart-o",size:"24"}),t[12]||(t[12]=r("span",null,"立即点餐",-1))]),r("div",{class:"action-item",onClick:t[3]||(t[3]=a=>u(e).push("/cart"))},[s(i,{name:"todo-list-o",size:"24"}),t[13]||(t[13]=r("span",null,"购物清单",-1))]),r("div",{class:"action-item",onClick:t[4]||(t[4]=a=>u(e).push("/org"))},[s(i,{name:"friends-o",size:"24"}),t[14]||(t[14]=r("span",null,"家庭/组织",-1))])])]),s(w,{modelValue:O.value,"onUpdate:modelValue":t[5]||(t[5]=a=>O.value=a),route:"",fixed:"",placeholder:"","safe-area-inset-bottom":""},{default:c(()=>[s(y,{replace:"",to:"/",icon:"home-o"},{default:c(()=>[...t[15]||(t[15]=[g("首页",-1)])]),_:1}),s(y,{replace:"",to:"/order",icon:"shopping-cart-o"},{default:c(()=>[...t[16]||(t[16]=[g("点餐",-1)])]),_:1}),s(y,{replace:"",to:"/plan",icon:"orders-o"},{default:c(()=>[...t[17]||(t[17]=[g("食谱",-1)])]),_:1}),s(y,{replace:"",to:"/cart",icon:"todo-list-o"},{default:c(()=>[...t[18]||(t[18]=[g("清单",-1)])]),_:1}),s(y,{replace:"",to:"/org",icon:"friends-o"},{default:c(()=>[...t[19]||(t[19]=[g("组织",-1)])]),_:1})]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-714b2d4d"]]))}}});

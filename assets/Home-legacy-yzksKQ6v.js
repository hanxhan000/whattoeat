System.register(["./index-legacy-DRDZLchk.js","./_plugin-vue_export-helper-legacy-CSbz-9Qr.js","./logo-family-legacy-435wcosQ.js"],function(a,t){"use strict";var e,n,o,i,l,s,c,r,d,f,p,u,m,b,x,v,g,h,y,k,w;return{setters:[a=>{e=a.an,n=a.b,o=a.ao,i=a.ap,l=a.aq,s=a.d,c=a.ar,r=a.as,d=a.at,f=a.au,p=a.av,u=a.aw,m=a.ax,b=a.ay,x=a.az,v=a.aA,g=a.aB},a=>{h=a.u,y=a.a,k=a._},a=>{w=a.l}],execute:function(){var t=document.createElement("style");t.textContent=".home[data-v-2fa0c0bf]{min-height:100vh;background:linear-gradient(180deg,#fff,#f8f8f8)}.main-content[data-v-2fa0c0bf]{padding:16px 16px 72px}.hero-section[data-v-2fa0c0bf]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;padding:32px 20px;margin-bottom:24px;text-align:center;color:#fff;box-shadow:0 4px 12px rgba(0,0,0,.1)}.hero-content[data-v-2fa0c0bf]{display:flex;flex-direction:column;align-items:center}.logo[data-v-2fa0c0bf]{width:80px;height:80px;margin-bottom:16px;border-radius:50%;background:#fff;padding:8px}.title[data-v-2fa0c0bf]{font-size:24px;font-weight:600;margin-bottom:8px;letter-spacing:1px}.subtitle[data-v-2fa0c0bf]{font-size:14px;margin-bottom:24px;opacity:.9}.start-button[data-v-2fa0c0bf]{width:100%;max-width:240px}.summary-section[data-v-2fa0c0bf]{background:#fff;border-radius:16px;padding:20px;margin-bottom:24px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.section-header[data-v-2fa0c0bf]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-title[data-v-2fa0c0bf]{font-size:18px;font-weight:600;color:#333}.section-subtitle[data-v-2fa0c0bf]{font-size:14px;color:#999}.summary-list[data-v-2fa0c0bf]{margin-bottom:16px}.summary-item[data-v-2fa0c0bf]{border-radius:12px;margin-bottom:8px}.summary-item[data-v-2fa0c0bf]:last-child{margin-bottom:0}.summary-total[data-v-2fa0c0bf]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#f8f9fa;border-radius:12px;font-weight:600}.total-count[data-v-2fa0c0bf]{color:#1989fa;font-size:16px}.quick-actions[data-v-2fa0c0bf]{display:flex;justify-content:space-around;background:#fff;border-radius:16px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,.05)}.action-item[data-v-2fa0c0bf]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:12px 20px;border-radius:12px;cursor:pointer;transition:all .2s}.action-item[data-v-2fa0c0bf]:hover{background:#f8f9fa}.action-item span[data-v-2fa0c0bf]{font-size:14px;color:#666}@media(max-width:360px){.hero-section[data-v-2fa0c0bf]{padding:24px 16px}.title[data-v-2fa0c0bf]{font-size:20px}.main-content[data-v-2fa0c0bf]{padding:12px}}@media(min-width:768px){.main-content[data-v-2fa0c0bf]{max-width:768px;margin:0 auto}.hero-section[data-v-2fa0c0bf]{padding:48px 32px}.title[data-v-2fa0c0bf]{font-size:32px}}\n/*$vite$:1*/",document.head.appendChild(t);const _={class:"home"},z={class:"main-content"},j={class:"hero-section"},C={class:"hero-content"},q=["src"],$={class:"summary-section"},V={class:"section-header"},O={class:"section-subtitle"},A={class:"summary-total"},B={class:"total-count"},D={class:"quick-actions"};a("default",k(e({__name:"Home",setup(a){const t=p(),e=h(),k=y(),E=n(0);o(()=>{});const H=i(()=>e.next7Days()),I=i(()=>H.value[0]?.value||""),S=i(()=>H.value[0]?.label||"今天"),U=["breakfast","lunch","dinner"],F={breakfast:"早餐",lunch:"午餐",dinner:"晚餐"},G=i(()=>U.map(a=>{const t=k.getCounts(I.value,a),n=Object.entries(t).filter(([a,t])=>t>0).map(([a,t])=>{const n=e.dishes.find(t=>t.id===a);return`${n?.name||a}×${t}`}),o=Object.values(t).reduce((a,t)=>a+(t||0),0);return{meal:a,label:F[a],items:n,total:o}})),J=i(()=>G.value.reduce((a,t)=>a+t.total,0));function K(){console.log("跳转到个人页面")}return(a,e)=>{const n=d("van-icon"),o=d("van-nav-bar"),i=d("van-button"),p=d("van-cell"),h=d("van-cell-group"),y=d("van-tabbar-item"),k=d("van-tabbar");return m(),l("div",_,[s(o,{title:"今天吃什么",fixed:"",placeholder:""},{right:r(()=>[s(n,{name:"user-o",size:"20",onClick:K})]),_:1}),c("div",z,[c("div",j,[c("div",C,[c("img",{class:"logo",src:f(w),alt:"家庭logo"},null,8,q),e[5]||(e[5]=c("h1",{class:"title"},"今天吃什么",-1)),e[6]||(e[6]=c("p",{class:"subtitle"},"为您的家庭提供美味食谱推荐",-1)),s(i,{type:"primary",size:"large",round:"",onClick:e[0]||(e[0]=a=>f(t).push("/order")),class:"start-button"},{default:r(()=>[...e[4]||(e[4]=[b(" 开始点餐 ",-1)])]),_:1})])]),c("div",$,[c("div",V,[e[7]||(e[7]=c("h2",{class:"section-title"},"今日汇总",-1)),c("span",O,u(S.value),1)]),s(h,{inset:"",class:"summary-list"},{default:r(()=>[(m(!0),l(x,null,v(G.value,a=>(m(),g(p,{key:a.meal,title:a.label,label:a.items.length?a.items.join("，"):"暂无菜品",value:a.total>0?a.total+" 份":"","is-link":"",onClick:e=>{return n=a.meal,void t.push({path:"/order",query:{date:I.value,meal:n}});var n},class:"summary-item"},null,8,["title","label","value","onClick"]))),128))]),_:1}),c("div",A,[e[8]||(e[8]=c("span",null,"总计",-1)),c("span",B,u(J.value)+" 份",1)])]),c("div",D,[c("div",{class:"action-item",onClick:e[1]||(e[1]=a=>f(t).push("/plan"))},[s(n,{name:"orders-o",size:"24"}),e[9]||(e[9]=c("span",null,"未来食谱",-1))]),c("div",{class:"action-item",onClick:e[2]||(e[2]=a=>f(t).push("/order"))},[s(n,{name:"shopping-cart-o",size:"24"}),e[10]||(e[10]=c("span",null,"立即点餐",-1))])])]),s(k,{modelValue:E.value,"onUpdate:modelValue":e[3]||(e[3]=a=>E.value=a),route:"",fixed:"",placeholder:"","safe-area-inset-bottom":""},{default:r(()=>[s(y,{replace:"",to:"/",icon:"home-o"},{default:r(()=>[...e[11]||(e[11]=[b("首页",-1)])]),_:1}),s(y,{replace:"",to:"/order",icon:"shopping-cart-o"},{default:r(()=>[...e[12]||(e[12]=[b("点餐",-1)])]),_:1}),s(y,{replace:"",to:"/plan",icon:"orders-o"},{default:r(()=>[...e[13]||(e[13]=[b("食谱",-1)])]),_:1})]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-2fa0c0bf"]]))}}});

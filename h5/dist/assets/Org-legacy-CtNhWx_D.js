System.register(["./index-legacy-BZW8kIiO.js","./logo-family-warm-legacy-Bvck0VHf.js","./_plugin-vue_export-helper-legacy-BVIICed7.js"],function(e,a){"use strict";var t,l,r,i,n,o,s,d,c,u,v,m,g,p,f,h,x,b,y,w,k,_,V,C;return{setters:[e=>{t=e.aJ,l=e.aK,r=e.aL,i=e.aM,n=e.aN,o=e.ap,s=e.as,d=e.b,c=e.ar,u=e.at,v=e.d,m=e.au,g=e.ax,p=e.ay,f=e.aw,h=e.aI,x=e.az,b=e.aC,y=e.aD,w=e.av,k=e.aA,_=e.aB},e=>{V=e.l},e=>{C=e._}],execute:function(){var a=document.createElement("style");a.textContent=".org[data-v-5462fe77]{min-height:calc(var(--vh, 1vh) * 100);background:var(--bg-color)}.main-content[data-v-5462fe77]{padding:16px}.current[data-v-5462fe77]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 2px 12px rgba(0,0,0,.05);margin-bottom:16px}.cover[data-v-5462fe77]{height:80px;background:linear-gradient(135deg,#ffedd5,#fde68a)}.info[data-v-5462fe77]{display:flex;align-items:center;gap:12px;padding:12px 16px}.name[data-v-5462fe77]{font-weight:600;color:#8a4b16}.code[data-v-5462fe77]{font-size:12px;color:#999}.members[data-v-5462fe77]{padding:0 16px 12px}.members-title[data-v-5462fe77]{font-size:14px;color:#666;margin-bottom:8px}.members-list[data-v-5462fe77]{display:flex;gap:8px;flex-wrap:wrap}.member[data-v-5462fe77]{background:#fff7ed;color:#a16207;padding:4px 8px;border-radius:12px;font-size:12px}.form[data-v-5462fe77]{display:flex;gap:8px;align-items:center;padding:8px 16px 16px}.tip[data-v-5462fe77]{text-align:center;color:#999;font-size:12px;margin-top:8px}\n/*$vite$:1*/",document.head.appendChild(a);const j=t("org",{state:()=>({orgs:[],current:null,loading:!1,error:""}),actions:{async init(){this.loading=!0,this.error="";try{this.orgs=await i(),this.current=await n()}catch(e){this.error=e instanceof Error?e.message:String(e)}finally{this.loading=!1}},async create(e,a,t){this.loading=!0,this.error="";try{const l=await r(e,a,t);return this.orgs.push(l),this.current=l,l}catch(l){return this.error=l instanceof Error?l.message:String(l),null}finally{this.loading=!1}},async join(e,a){this.loading=!0,this.error="";try{const t=await l(e,a);return t&&(this.current=t,await this.init()),t}catch(t){return this.error=t instanceof Error?t.message:String(t),null}finally{this.loading=!1}}}}),z={class:"org"},E={class:"main-content"},S={key:0,class:"current"},U={class:"info"},I={class:"name"},L={class:"code"},$={key:0,class:"members"},A={class:"members-list"},B={class:"form"},D={class:"form"};e("default",C(o({__name:"Org",setup(e){const a=p(),t=j(),l=s(()=>t.loading),r=s(()=>t.current),i=d(""),n=d(""),o=d("");async function C(){i.value.trim()&&await t.create(i.value.trim())}async function J(){n.value.trim()&&o.value.trim()&&await t.join(n.value.trim(),o.value.trim())}return c(()=>{t.init()}),(e,t)=>{const s=f("van-nav-bar"),d=f("van-image"),c=f("van-cell"),p=f("van-field"),j=f("van-button"),K=f("van-cell-group");return k(),u("div",z,[v(s,{title:"家庭/组织","left-arrow":"",fixed:"",placeholder:"",onClickLeft:t[0]||(t[0]=e=>g(a).go(-1))}),m("div",E,[r.value?(k(),u("div",S,[t[5]||(t[5]=m("div",{class:"cover"},null,-1)),m("div",U,[v(d,{src:r.value.logoUrl||g(V),width:"48",height:"48",round:""},null,8,["src"]),m("div",null,[m("div",I,x(r.value.name),1),m("div",L,"加入码："+x(r.value.code),1)])]),r.value.members?.length?(k(),u("div",$,[t[4]||(t[4]=m("div",{class:"members-title"},"成员",-1)),m("div",A,[(k(!0),u(b,null,y(r.value.members,e=>(k(),u("div",{key:e.id,class:"member"},x(e.nickname),1))),128))])])):h("",!0)])):h("",!0),v(K,{inset:""},{default:w(()=>[v(c,{title:"创建家庭/组织",label:"输入名称，生成加入码"}),m("div",B,[v(p,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),placeholder:"例如：温馨小家"},null,8,["modelValue"]),v(j,{type:"primary",round:"",block:"",onClick:C,loading:l.value},{default:w(()=>[...t[6]||(t[6]=[_("创建",-1)])]),_:1},8,["loading"])])]),_:1}),v(K,{inset:""},{default:w(()=>[v(c,{title:"加入组织",label:"输入加入码与昵称"}),m("div",D,[v(p,{modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=e=>n.value=e),placeholder:"加入码"},null,8,["modelValue"]),v(p,{modelValue:o.value,"onUpdate:modelValue":t[3]||(t[3]=e=>o.value=e),placeholder:"昵称"},null,8,["modelValue"]),v(j,{type:"success",round:"",block:"",onClick:J,loading:l.value},{default:w(()=>[...t[7]||(t[7]=[_("加入",-1)])]),_:1},8,["loading"])])]),_:1}),t[8]||(t[8]=m("div",{class:"tip"},"说明：当前为本地模拟云端，方便先行体验与共享。",-1))])])}}}),[["__scopeId","data-v-5462fe77"]]))}}});

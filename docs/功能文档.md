今天吃什么（What to Eat）详细功能文档 v0.1

一、功能总览
- 登录与身份：微信授权获取昵称与头像；用户可设置家庭备注（爸爸/妈妈/儿子等）。
- 组织管理：创建唯一组织（家庭/公司/团队），邀请成员加入，角色分配（管理员/成员）。
- 分类管理：默认丰富分类 + 自定义增删改，支持多级分类与标签。
- 菜品管理：名称、食材与调料、数量与单位、做法、备注、图片、份数与难度。
- 食谱规划：今日与未来7天的早餐/午餐/晚餐选择；按截止时间锁定。
- 点赞与留言：对菜品互动，提升推荐度与记录口味偏好。
- 汇总与购物清单：自动合并食材用量，生成采购清单与报表。
- 历史记录与查询：按日期/成员/菜品查询，支持导出。
- 通知与提醒：截止前提醒、锁定通知、变更告知（微信模板消息）。

二、用户端（前台）页面与交互
- 首页（今日吃什么）：显示当天三餐卡片、组织 Logo 与主题、快速入口。
- 选择页（7天食谱）：切换日期与餐次，搜索/筛选菜品（按分类/标签/点赞），选择菜品并设置份数与备注。
- 菜品详情：图文信息、食材列表、做法步骤、点赞与评论、历史热度。
- 我的：头像与备注、加入的组织、个人偏好（忌口/口味）、通知设置。
- 历史：查看过往选择与互动记录，支持二次复用（“一键复用”）。

三、管理端（后台）页面与交互
- 组织设置：名称、类型、Logo、更换主题（温馨简约风模板）、时区与三餐时间/截止时间。
- 分类管理：多级分类树、排序、启用/停用、默认与自定义并存。
- 菜品管理：新增/编辑/复制，批量导入（CSV/Excel，可选）、图片上传、状态（上架/下架）。
- 食谱与规则：设置餐次与截止时间、解锁与重算购物单（需审计理由）。
- 汇总与购物单：按日期/餐次生成食材明细，支持单位换算、分类分组、导出打印。
- 成员管理：邀请链接、成员列表、角色调整、移除成员。
- 数据与报表：点赞热度、菜品偏好、采购统计、历史导出。

四、默认分类（丰富，可自定义）
- 肉类：猪、牛、羊、其他红肉
- 禽类：鸡、鸭、鹅、鸽
- 水产海鲜：鱼、虾、蟹、贝、海藻
- 蔬菜-叶菜：菠菜、生菜、油麦菜、菜心、芥蓝
- 蔬菜-根茎：土豆、胡萝卜、莲藕、山药、红薯
- 蔬菜-瓜果：西红柿、黄瓜、南瓜、茄子、苦瓜、冬瓜
- 菌菇类：香菇、平菇、金针菇、杏鲍菇、口蘑
- 豆制品与蛋类：豆腐、豆皮、豆干、鸡蛋
- 主食：米饭/粥、面条/粉、面点、饼类
- 汤类：清汤、炖汤、奶汤、滋补汤
- 辅食/小菜：凉拌、腌制、拌菜、配菜
- 甜点/烘焙：蛋糕、饼干、布丁、慕斯、糖水
- 饮品：茶饮、果汁、奶制品、咖啡
- 火锅/煲类：火锅、砂锅、煲仔
- 预制菜：半成品、速烹
- 地方菜系：川、粤、鲁、苏、浙、闽、湘、徽、东北、西北、云贵、台/港
- 国际菜系：日、韩、泰、越、印、意、法、美
- 营养标签：素食、低脂、低糖、无麸质、高蛋白、儿童餐、老年餐、孕妇友好、运动餐
- 节令与节日：春夏秋冬、春节、端午、中秋、冬至

五、菜品字段定义（示例）
- 基本：名称、别名、分类（主/子）、标签（多选）、图片
- 食材：列表（食材名、单位、数量范围/标准量、可替代项）
- 调料：列表（名称、单位、用量：适量/克/毫升）
- 做法：步骤文本（1..N）
- 份数：建议份数（每 2 人/4 人）与可调整范围
- 难度与时长：易/中/难；预计分钟数
- 备注：如“宝宝不要太甜”
- 状态：上架/下架；创建者与更新时间

六、点餐与食谱规则
- 时段：早餐/午餐/晚餐，默认时间示例 08:00/12:00/18:00；可配置。
- 截止：每餐前 1 小时截止（如午餐 11:00）；截止后锁定，不可修改。
- 修改：截止前可增删菜品、调整份数/备注；管理员可紧急解锁（记录原因）。
- 选择：成员对每餐可选择多道菜；默认份数与组织人数相关。
- 人数与份数：支持按成员选择自动估算份数；管理员可整体校正。
- 口味偏好：成员可标记忌口与喜好，菜品列表可过滤与排序。

七、点赞与留言
- 点赞：对菜品点赞，统计热度；用于推荐排序。
- 留言：每餐/每菜品可留言，200 字限制；支持@成员提及（可选）。
- 管理：管理员可删除不当评论；敏感词过滤与云审核（可选）。

八、购物清单与汇总规则
- 触发：餐次锁定后生成；支持单日/多日聚合与导出。
- 合并：同食材同单位直接合并；跨单位按换算率（如 1 千克=1000 克）统一到目标单位。
- 分类分组：按品类（蔬菜/肉类/主食等）分组，便于采购路径。
- 拆分：可按门店/供应商拆分子单；支持备注（品牌/规格）。

九、历史记录与查询
- 维度：按日期、成员、菜品、分类、餐次查询；支持范围筛选。
- 导出：CSV/Excel 导出；可共享链接（只读）。
- 回溯：显示历史热度与评论；支持“再来一次”快速复用食谱。

十、通知与提醒
- 提醒：截止前 30/60 分钟提醒（微信模板消息/站内）。
- 锁定通知：锁定成功后推送购物清单链接给管理员。
- 变更通知：解锁/重算后提醒相关成员。

十一、异常与边界
- 超时：截止后提交返回温馨提示；引导查看下次餐次。
- 并发：同一餐次多成员同时操作时，服务器端按时间戳与事务校验。
- 图片：大小与格式限制（JPEG/PNG/WebP），超限时提示压缩。
- 单位：若“适量”无法合并，提示管理员人工校正或设置默认值。

示例菜品（字段示例）
- 名称：西红柿炒鸡蛋
- 分类：蔬菜-瓜果；标签：家常、快手
- 食材：西红柿（个，2）；鸡蛋（个，2）
- 调料：油（毫升，10-20）；盐（克，2-3）；糖（克，1-3，可选）
- 做法：1. 先炒鸡蛋；2. 再炒西红柿；3. 合炒出锅。
- 份数：建议 2 人份；难度：易；时长：10 分钟
- 备注：宝宝不要太甜
- 图片：上传或使用默认温馨简约图